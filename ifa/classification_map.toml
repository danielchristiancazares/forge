version = 1
last_updated = "2026-02-19"

[[rules]]
prefix = "cli/src/"
classification = "boundary"
rationale = "CLI entry and runtime wiring are boundary concerns."

[[rules]]
prefix = "config/src/"
classification = "boundary"
rationale = "Configuration loading/resolution interacts with environment and files."

[[rules]]
prefix = "context/src/"
classification = "boundary"
rationale = "Context manager and journals interact with persistence and runtime systems."

[[rules]]
prefix = "core/src/display.rs"
classification = "core"
rationale = "Pure display-log data structure and mutation helpers."

[[rules]]
prefix = "core/src/notifications.rs"
classification = "core"
rationale = "Pure notification domain representation and queue behavior."

[[rules]]
prefix = "core/src/thinking.rs"
classification = "core"
rationale = "Pure thinking payload sum type."

[[rules]]
prefix = "core/src/env_context.rs"
classification = "boundary"
rationale = "Environment context struct contains a non-lifecycle bool fact (is_git_repo); classified boundary until checker distinguishes lifecycle from factual bools."

[[rules]]
prefix = "core/src/environment.rs"
classification = "boundary"
rationale = "Gathers runtime environment via filesystem, clock, and env-var access."

[[rules]]
prefix = "core/src/errors.rs"
classification = "boundary"
rationale = "JSON parsing, string probing, and error message extraction from raw API responses."

[[rules]]
prefix = "core/src/util.rs"
classification = "boundary"
rationale = "Fallback parsing APIs returning maybe values for crash recovery."

[[rules]]
prefix = "core/src/security.rs"
classification = "boundary"
rationale = "Re-exports security sanitization from forge-utils boundary."

[[rules]]
prefix = "core/src/"
classification = "boundary"
rationale = "Remaining core crate modules include boundary concerns pending split."

[[rules]]
prefix = "engine/src/"
classification = "boundary"
rationale = "Engine orchestration coordinates async runtime, IO, and external providers."

[[rules]]
prefix = "lsp/src/"
classification = "boundary"
rationale = "LSP client/server process and protocol integration are boundary concerns."

[[rules]]
prefix = "providers/src/"
classification = "boundary"
rationale = "Provider API clients are external-service boundaries."

[[rules]]
prefix = "tools/src/"
classification = "boundary"
rationale = "Tool execution, shell/process, and webfetch are boundary concerns."

[[rules]]
prefix = "tui/src/"
classification = "boundary"
rationale = "Terminal rendering and input handling are UI boundaries."

[[rules]]
prefix = "types/src/budget.rs"
classification = "core"
rationale = "Budget invariant types with explicit outcomes and no optional core interfaces."

[[rules]]
prefix = "types/src/confusables.rs"
classification = "core"
rationale = "Pure text analysis and warning construction."

[[rules]]
prefix = "types/src/message.rs"
classification = "core"
rationale = "Message domain model now uses explicit display/signature outcomes with no Option in core interfaces or domain struct fields."

[[rules]]
prefix = "types/src/model.rs"
classification = "core"
rationale = "Core model domain types and provider enumeration."

[[rules]]
prefix = "types/src/plan.rs"
classification = "core"
rationale = "Pure plan-domain model and transitions."

[[rules]]
prefix = "types/src/proofs.rs"
classification = "core"
rationale = "Core proof types for validated content."

[[rules]]
prefix = "types/src/text.rs"
classification = "core"
rationale = "Pure string truncation helpers."

[[rules]]
prefix = "types/src/"
classification = "boundary"
rationale = "Remaining types modules include boundary-oriented transport and compatibility shapes."

[[rules]]
prefix = "utils/src/"
classification = "boundary"
rationale = "Utility crate includes filesystem writes and security boundary helpers."
